<app-home></app-home>
<div class="content" fxFlex>
  <mat-accordion class="example-headers-align" multi>
    <mat-expansion-panel *ngFor="let container of containers; let i = index">
      <mat-expansion-panel-header>
        <mat-panel-title> {{container.key}}</mat-panel-title>
        <mat-panel-description>
          Contenedor ubicado en lat:<span style="font-weight: bold;">{{container.latitud}}</span>|long<span style="font-weight: bold;">{{container.longitud }}</span>
          <mat-icon>school</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>
        <br>
        <div align="end" style="background-color: #D4D4D4;">
          <button mat-icon-button class="botonCard" (click)="changeStateNewTask()" ><mat-icon>pin_drop</mat-icon></button>
         </div>
      <div align="center">
        <div class="card">
          <div class="card-header"  style="text-transform: uppercase;">
            <div  class="row">
              <div class="col">
                <mat-label><span style="font-weight: bold;">Nivel &nbsp;-&nbsp; {{container.estado}}%</span></mat-label>
              </div>
            </div>
            </div>
          <div class="card-body">
            <div  class="row">
              <div class="col">
                <div class="row">
                  <div class="col">
                    <mat-label><span style="font-weight: bold;">Resultado</span>&nbsp; valores</mat-label><br><br>
                    <mat-label><span style="font-weight: bold;">Ultimo Control</span>&nbsp; {{container.datetop.fecha1}}</mat-label><br>
                  </div>
                  <div class="col">
                    <mat-form-field appearance="fill">
                      <mat-label>Enter a date range</mat-label>
                      <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
                      <input matStartDate formControlName="start" placeholder="Start date"  (dateInput)="true" (dateChange)="true">
                        <input matEndDate formControlName="end" placeholder="End date">
                      </mat-date-range-input>
                      <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-date-range-picker #picker></mat-date-range-picker>
                      
                      <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')">Invalid start date</mat-error>
                      <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')">Invalid end date</mat-error>
                    </mat-form-field>

                  <br>
                  <app-graficas> </app-graficas>
                  <div>
                  </div>
                  </div>
                </div>
              </div>
            <div class="col" align="center" *ngIf="verMapa" >
              <google-map width="300px" height="300px" [center]="center" [zoom]="zoom">
                <map-marker *ngFor="let markerPosition of markerPositions"
              [position]="markerPosition"
              [options]="markerOptions"></map-marker></google-map>
            </div>
          </div>
        </div>
      </div></div>
    </mat-expansion-panel>
  </mat-accordion>

</div>
